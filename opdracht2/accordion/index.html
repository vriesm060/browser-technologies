<!DOCTYPE html>
<html lang="nl">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Accordion</title>
	<script type="text/javascript">
		document.createElement('section');
		document.createElement('details');
		document.createElement('summary');
	</script>
	<style type="text/css">

		* {
			box-sizing: border-box;
			padding: 0;
			margin: 0;
			font-family: inherit;
			font-weight: inherit;
		}

		body {
			background-color: #F1F1F1;
			font-family: sans-serif;
			font-weight: 300;
			font-size: 1em;
		}

		h1 {
			font-size: 3em;
		}

		.accordion {
			display: block;
			width: 100%;
			max-width: 35em;
			padding: 24px;
			padding: 1.5rem;
			margin: 0 auto;
		}

		.person {
			display: block;
			width: 100%;
			margin: 24px auto;
			margin: 1.5rem auto;
			background-color: #FFF;
		}

		.summary {
			display: block;
			display: flex;
			width: 100%;
			min-height: 72px;
			min-height: 4.5rem;
			padding: 24px;
			padding: 1.5rem;
			cursor: pointer;
		}
		.summary::-webkit-details-marker,
		.summary.close + * {
			display: none;
		}

		.summary > h2 {
			flex: 1 0 auto;
			display: inline-block;
			margin-right: 24px;
			margin-right: 1.5rem;
			height: 100%;
			font-size: 1.5em;
			line-height: 1;
		}

		.details-marker {
			flex: 0 0 auto;
			float: right;
			display: flex;
			justify-content: center;
			align-items: center;
			width: 1.5em;
			height: 1.5em;
			padding: .5em;
			border: 0;
			border-radius: 50%;
			background-color: steelblue;
			line-height: 0;
			transform: rotate(0deg);
			transition: all .3s ease-in-out;
		}
		.details-marker.open {
			transform: rotate(180deg);
		}

		.details-marker > svg {
			width: 100%;
			height: 100%;
			fill: #FFF;
		}

		.person p {
			padding: 24px;
			padding: 1.5rem;
			line-height: 1.4;
		}

	</style>
</head>
<body>

	<section class="accordion">
		<h1>Accordion</h1>

		<details class="person">
			<summary class="summary">
				<h2>Koop Reynders</h2>
				<div class="details-marker" aria-label="details-marker">
					<svg viewBox="0 0 306 306">
						<polygon points="306,94.3 270.3,58.6 153,175.9 35.7,58.6 0,94.3 153,247.4"/>
					</svg>
				</div>
			</summary>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi commodi officia, nisi quibusdam tempora, qui ut aliquid quos dolorum exercitationem, quisquam labore veniam officiis laboriosam. Quod rem perspiciatis expedita aspernatur.
			</p>
		</details>

		<details class="person">
			<summary class="summary">
				<h2>Krijn Hoetmer</h2>
				<div class="details-marker" aria-label="details-marker">
					<svg viewBox="0 0 306 306">
						<polygon points="306,94.3 270.3,58.6 153,175.9 35.7,58.6 0,94.3 153,247.4"/>
					</svg>
				</div>
			</summary>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi commodi officia, nisi quibusdam tempora, qui ut aliquid quos dolorum exercitationem, quisquam labore veniam officiis laboriosam. Quod rem perspiciatis expedita aspernatur.
			</p>
		</details>

		<details class="person">
			<summary class="summary">
				<h2>Joost Faber</h2>
				<div class="details-marker" aria-label="details-marker">
					<svg viewBox="0 0 306 306">
						<polygon points="306,94.3 270.3,58.6 153,175.9 35.7,58.6 0,94.3 153,247.4"/>
					</svg>
				</div>
			</summary>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi commodi officia, nisi quibusdam tempora, qui ut aliquid quos dolorum exercitationem, quisquam labore veniam officiis laboriosam. Quod rem perspiciatis expedita aspernatur.
			</p>
		</details>
	</section>

	<script type="text/javascript">

		// Fallback for details tags:
		// Replace functionality with custom one build with javascript

		var person = document.getElementsByClassName('person');
		var summary = document.getElementsByClassName('summary');

		if (document.createElement('details').open === undefined) {
			console.log('does not support');

			var accordion = {
				person: person,
				summary: summary,
				init: function () {
					for (var i = 0; i < this.summary.length; i++) {
						this.summary[i].className += ' close';
					}
				},
				openAccordion: function (summary) {
					summary.className = summary.className.slice(0, summary.className.indexOf(' close'));
				},
				closeAccordion: function (summary) {
					summary.className += ' close';
				}
			};

			accordion.init();

			for (var i = 0; i < accordion.summary.length; i++) {
				accordion.summary[i].addEventListener('click', function () {
					if (this.className.indexOf('close') !== -1) {
						accordion.openAccordion(this);
					} else {
						accordion.closeAccordion(this);
					}
				}, false);
			}
		}

		// Fallback for when CSS transform property is not supported:
		for (var i = 0; i < summary.length; i++) {
			summary[i].addEventListener('click', function () {

				var button = this.getElementsByTagName('button')[0];

				if (window.getComputedStyle(button).getPropertyValue('transform') === undefined) {
					console.log('does not exist');

					if (button.innerHTML === '&vee;') {
						button.innerHTML = '&wedge;';
					} else {
						button.innerHTML = '&vee;';
					}

				} else {
					console.log('does exist');

					if (button.classList.contains('open')) {
						button.classList.remove('open');
					} else {
						button.classList.add('open');
					}

				}

			}, false);
		}

	</script>
</body>
</html>
